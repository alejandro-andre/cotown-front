<h1>{{ 'bookings' | translate }}</h1>

<div *ngIf="bookings.length; then thenBlock else elseBlock"></div>

<ng-template #thenBlock>

  <table mat-table *ngIf="bookings && bookings.length" [dataSource]="bookings" class="table">
    <ng-container matColumnDef="building">
      <th mat-header-cell *matHeaderCellDef>{{ 'building' | translate}}</th>
      <td mat-cell *matCellDef="let element"><span>{{ element.building.code }}</span></td>
    </ng-container>
    <ng-container matColumnDef="resource">
      <th mat-header-cell *matHeaderCellDef>{{ 'resource' | translate}}</th>
      <td mat-cell *matCellDef="let element"><span>{{ element.resource?.code }}</span></td>
    </ng-container>
    <ng-container matColumnDef="date_from">
      <th mat-header-cell *matHeaderCellDef>{{ 'date_from' | translate}}</th>
      <td mat-cell *matCellDef="let element"><span>{{ formatDate(element.date_from) }}</span></td>
    </ng-container>
    <ng-container matColumnDef="date_to">
      <th mat-header-cell *matHeaderCellDef>{{ 'date_to' | translate}}</th>
      <td mat-cell *matCellDef="let element"><span>{{ formatDate(element.date_to) }}</span></td>
    </ng-container>
    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef>{{ 'status' | translate}}</th>
      <td mat-cell *matCellDef="let element"><span>{{ getStatus(element.status) }}</span></td>
    </ng-container>
    <ng-container matColumnDef="resource_type">
      <th mat-header-cell *matHeaderCellDef>{{ 'resource_type' | translate}}</th>
      <td mat-cell *matCellDef="let element"><span>{{ getResourceType(element.resource_type) }}</span></td>
    </ng-container>
    <ng-container matColumnDef="flat_type">
      <th mat-header-cell *matHeaderCellDef>{{ 'flat_type' | translate}}</th>
      <td mat-cell *matCellDef="let element"><span>{{ getName(element.flat_type) }}</span></td>
    </ng-container>
    <ng-container matColumnDef="place_type">
      <th mat-header-cell *matHeaderCellDef>{{ 'place_type' | translate}}</th>
      <td mat-cell *matCellDef="let element"><span>{{ getName(element.place_type) }}</span></td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="clickable" (click)="clickedRow(row)"></tr>
  </table>

</ng-template>

<ng-template #elseBlock>
  <div>
    {{ 'errors.no_results' | translate }}
  </div>
</ng-template>